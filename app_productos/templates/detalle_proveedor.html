{% extends 'app_productos/base.html' %}

{% block titulo %}{{ proveedor.nombre }} | Detalles Proveedor{% endblock %}

{% block contenido %}
    <article class="supplier-detail">
        <div class="supplier-header">
            <h1>{{ proveedor.nombre }}</h1>
            <p><strong>Contacto:</strong> {{ proveedor.contacto|default:"No especificado" }}</p>
            <p><strong>Tel√©fono:</strong> {{ proveedor.telefono|default:"No especificado" }}</p>
            <p><strong>Direcci√≥n:</strong> {{ proveedor.direccion|default:"No especificada" }}</p>
        </div>

        <div class="detail-actions">
            <a href="{% url 'app_productos:editar_proveedor' proveedor.id %}" class="btn btn-secondary">‚úèÔ∏è Editar</a>
            <a href="{% url 'app_productos:borrar_proveedor' proveedor.id %}" class="btn btn-danger">üóëÔ∏è Borrar</a>
        </div>

        <section class="supplier-products-section">
            <h2>Productos suministrados por {{ proveedor.nombre }}</h2>
            {% if proveedor.productos.all %} {# Accede a los productos relacionados a trav√©s del related_name #}
                <ul class="product-list">
                    {% for producto in proveedor.productos.all %}
                        <li><a href="{% url 'app_productos:detalle_producto' producto.id %}">{{ producto.nombre }} (Modelo: {{ producto.modelo|default:"N/A" }})</a></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="empty-message">Este proveedor no tiene productos registrados actualmente.</p>
            {% endif %}
        </section>
    </article>
{% endblock %}